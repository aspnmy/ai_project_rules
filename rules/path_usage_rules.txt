# 文件路径使用规则 - 次级规则

## 高优先级规范（必须遵守）

### 相对路径使用要求
* **路径规范**：
  - 所有涉及文件调用的代码，无论是什么操作系统，都必须使用相对路径🔴
  - 必须在代码中获取本文件所在路径作为基点，来加载上级文件或下级文件🔴
  - 禁止使用绝对路径加载任何资源文件🔴

### 路径处理最佳实践
* **路径获取方法**：
  - 使用Path(__file__).resolve()获取PG_RuleFileName的绝对路径作为基准点，就是根目录🔴
  - 使用Path.isdir方法查找下级子目录🔴
  - 向下查找下级子目录必须递归检查🔴
  - 使用Path.joinpath()或/操作符安全地连接路径组件🔴

### 路径分隔符处理
* **跨平台兼容性**：
  - 避免在代码中硬编码路径分隔符（/ 或 \）🔴
  - 使用Path对象的自动路径分隔符处理功能🔴
  - 对于需要处理路径字符串的情况，使用os.path.sep获取平台相关的分隔符🔴

### 路径验证规则
* **文件存在性检查**：
  - 在尝试访问文件前，必须检查文件是否存在🔴
  - 实现路径查找逻辑时，应尝试多个可能的相对位置🔴
  - 提供清晰的错误信息，包括尝试过的所有路径🔴

## 中优先级规范

### 路径管理策略
* **配置化路径**：
  - 重要文件路径应通过配置文件或环境变量管理🟡
  - 避免在代码中硬编码文件路径🟡
  - 使用路径变量注册机制（如PG_前缀变量）🟡

### 路径解析逻辑
* **查找优先级**：
  - 首先尝试相对于项目根目录的路径🟡
  - 然后尝试在标准子目录中查找（如rules/）🟡
  - 最后尝试相对于当前工作目录的路径🟡

## 低优先级规范

### 性能优化建议
* **路径缓存**：
  - 对于频繁访问的文件路径，可以考虑缓存路径对象🟢
  - 避免在循环中重复构建路径对象🟢

### 可读性建议
* **路径命名**：
  - 使用描述性变量名存储路径对象🟢
  - 添加注释说明路径的用途和查找逻辑🟢